(window.webpackJsonpprojects=window.webpackJsonpprojects||[]).push([[0],{110:function(e,t,r){},111:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(22),i=r(28),c=r(6),l=r(35),s=r.n(l),u=r(16),p="https://test-task-server.herokuapp.com/api/v1/",d=s.a.mark(f),m=s.a.mark(b),E={API_ALL_CATEGORIES:p+"category/all",API_ADD_CATEGORY:p+"category/create",API_EDIT_CATEGORY:p+"category/update",API_DELETE_CATEGORY:p+"category/",API_ALL_RECIPES:p+"recipe/all",API_ADD_RECIPE:p+"recipe/create",API_EDIT_RECIPE:p+"recipe/update",API_DELETE_RECIPE:p+"recipe/",API_ALL_ARTICLES:p+"article/all",API_ADD_ARTICLE:p+"article/create",API_EDIT_ARTICLE:p+"article/update",API_DELETE_ARTICLE:p+"article/"};function f(e){var t,r,a,n,o,i,c=arguments;return s.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return t=c.length>1&&void 0!==c[1]?c[1]:"GET",r=c.length>2&&void 0!==c[2]?c[2]:[],a=c.length>3&&void 0!==c[3]?c[3]:"",l.prev=3,n={method:t,headers:{"Content-Type":"application/json"}},"GET"!==t&&"HEAD"!==t&&(n.body=JSON.stringify(r)),l.next=8,fetch(E["API_"+e]+a,n);case 8:return o=l.sent,l.next=11,o.json();case 11:return i=l.sent,l.next=14,Object(u.b)({type:e+"_RECEIVED",ok:o.ok,json:i,params:r,urlSuffix:a});case 14:l.next=20;break;case 16:return l.prev=16,l.t0=l.catch(3),l.next=20,Object(u.b)({type:"SERVER_ERROR",err:l.t0});case 20:case"end":return l.stop()}},d,null,[[3,16]])}function b(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)([Object(u.c)("GET_ALL_CATEGORIES",function(){return f("ALL_CATEGORIES","GET")}),Object(u.c)("ADD_CATEGORY",function(e){return f("ADD_CATEGORY","POST",e.params)}),Object(u.c)("EDIT_CATEGORY",function(e){return f("EDIT_CATEGORY","PUT",e.params)}),Object(u.c)("DELETE_CATEGORY",function(e){return f("DELETE_CATEGORY","DELETE",[],e.params._id)}),Object(u.c)("GET_ALL_RECIPES",function(){return f("ALL_RECIPES","GET")}),Object(u.c)("ADD_RECIPE",function(e){return f("ADD_RECIPE","POST",e.params)}),Object(u.c)("EDIT_RECIPE",function(e){return f("EDIT_RECIPE","PUT",e.params)}),Object(u.c)("DELETE_RECIPE",function(e){return f("DELETE_RECIPE","DELETE",[],e.params._id)}),Object(u.c)("GET_ALL_ARTICLES",function(){return f("ALL_ARTICLES","GET")}),Object(u.c)("ADD_ARTICLE",function(e){return f("ADD_ARTICLE","POST",e.params)}),Object(u.c)("EDIT_ARTICLE",function(e){return f("EDIT_ARTICLE","PUT",e.params)}),Object(u.c)("DELETE_ARTICLE",function(e){return f("DELETE_ARTICLE","DELETE",[],e.params._id)})]);case 2:case"end":return e.stop()}},m)}var O=r(69),g=r(15),y=r(23);function h(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=[];return t&&0===a&&n.push({key:"",value:"-"}),e.filter(function(e){return e.parentId===r}).sort(function(e,t){return e.title.localeCompare(t.title)}).map(function(t){for(var r=t.title,o=0;o<a;o++)r="    "+r;return n.push({key:t._id,value:r,level:a}),n=n.concat(h(e,null,t._id,a+1)),!0}),n}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=[t];return h(e,!1,t,1).map(function(e){return r.push(e.key),!0}),e.filter(function(e){return-1===r.indexOf(e._id)})}function _(e){var t={};return e.map(function(e){return t[e.param]=e.message,!0}),t}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(r,!0).forEach(function(t){Object(y.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CATEGORY":case"EDIT_CATEGORY":case"ADD_RECIPE":case"EDIT_RECIPE":case"ADD_ARTICLE":case"EDIT_ARTICLE":return v({},e,{currentFormErrors:void 0,errorGlobal:!1});case"GET_ALL_CATEGORIES":return v({},e,{categories:void 0,loading:(parseInt(e.loading)||0)+1});case"ALL_CATEGORIES_RECEIVED":return v({},e,{categories:t.json,loading:e.loading-1,errorGlobal:!1});case"ADD_CATEGORY_RECEIVED":case"EDIT_CATEGORY_RECEIVED":if(t.ok){var r="ADD_CATEGORY_RECEIVED"===t.type?Object(g.a)(e.categories):Object(g.a)(e.categories).filter(function(e){return e._id!==t.json._id});return v({},e,{categories:[].concat(Object(g.a)(r),[t.json]),modalData:v({},e.modalData,{show:!1}),currentFormErrors:void 0,errorGlobal:!1})}return v({},e,{currentFormErrors:_(t.json),errorGlobal:!1});case"DELETE_CATEGORY_RECEIVED":return t.ok?v({},e,{categories:D(e.categories,t.urlSuffix),modalData:v({},e.modalData,{show:!1}),errorGlobal:!1}):v({},e,{modalData:v({},e.modalData,{show:!1}),errorGlobal:!0,errorGlobalMsg:t.json[0].message});case"GET_ALL_RECIPES":return v({},e,{recipes:void 0,loading:(parseInt(e.loading)||0)+1});case"ALL_RECIPES_RECEIVED":return v({},e,{recipes:t.json,loading:e.loading-1,errorGlobal:!1});case"ADD_RECIPE_RECEIVED":case"EDIT_RECIPE_RECEIVED":if(t.ok){var a="ADD_RECIPE_RECEIVED"===t.type?Object(g.a)(e.recipes):Object(g.a)(e.recipes).filter(function(e){return e._id!==t.json._id});return v({},e,{recipes:[].concat(Object(g.a)(a),[t.json]),modalData:v({},e.modalData,{show:!1}),currentFormErrors:void 0,errorGlobal:!1})}return v({},e,{currentFormErrors:_(t.json),errorGlobal:!1});case"DELETE_RECIPE_RECEIVED":return t.ok?v({},e,{recipes:Object(g.a)(e.recipes).filter(function(e){return e._id!==t.urlSuffix}),modalData:v({},e.modalData,{show:!1}),errorGlobal:!1}):v({},e,{modalData:v({},e.modalData,{show:!1}),errorGlobal:!0,errorGlobalMsg:t.json[0].message});case"GET_ALL_ARTICLES":return v({},e,{articles:void 0,loading:(parseInt(e.loading)||0)+1});case"ALL_ARTICLES_RECEIVED":return v({},e,{articles:t.json,loading:e.loading-1,errorGlobal:!1});case"ADD_ARTICLE_RECEIVED":case"EDIT_ARTICLE_RECEIVED":if(t.ok){var n="ADD_ARTICLE_RECEIVED"===t.type?Object(g.a)(e.articles):Object(g.a)(e.articles).filter(function(e){return e._id!==t.json._id});return v({},e,{articles:[].concat(Object(g.a)(n),[t.json]),modalData:v({},e.modalData,{show:!1}),currentFormErrors:void 0,errorGlobal:!1})}return v({},e,{currentFormErrors:_(t.json),errorGlobal:!1});case"DELETE_ARTICLE_RECEIVED":return t.ok?v({},e,{articles:Object(g.a)(e.articles).filter(function(e){return e._id!==t.urlSuffix}),modalData:v({},e.modalData,{show:!1}),errorGlobal:!1}):v({},e,{modalData:v({},e.modalData,{show:!1}),errorGlobal:!0,errorGlobalMsg:t.json[0].message});case"SERVER_ERROR":return v({},e,{loading:e.loading-1,errorGlobal:!0,errorGlobalMsg:t.err.toString()});case"UPDATE_FORM_ITEM":if(null===t.itemData)return v({},e,{currentFormValues:void 0});var o=v({},e.currentFormValues);return o[t.itemData.name]=t.itemData.value,v({},e,{currentFormValues:o});case"HIDE_MODAL":return v({},e,{modalData:v({},e.modalData,{show:!1})});case"INIT_MODAL":return v({},e,{modalData:t.modalData,currentFormErrors:void 0});default:return e}},C=r(8),j=r(9),I=r(11),R=r(10),x=r(12),L=r(38),P=r(27),M=function(e){function t(){return Object(C.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark static-top"},n.a.createElement("div",{className:"container"},n.a.createElement("ul",{className:"navbar-nav"},[{to:"/",exact:!0,icon:"home",text:"Home"},{to:"/manage_categories",icon:"sitemap",text:"Categories"},{to:"/manage_recipes",icon:"cutlery",text:"Recipes"},{to:"/manage_articles",icon:"file-text-o",text:"Articles"}].map(function(e){return n.a.createElement("li",{className:"nav-item",key:"header_url_to_"+e.to},n.a.createElement(L.b,{className:"nav-link",exact:e.exact,to:e.to,activeClassName:"active"},n.a.createElement("i",{className:"fa fa-"+e.icon})," ",e.text))}))))}}]),t}(a.Component);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(r,!0).forEach(function(t){Object(y.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var w=function(){return{type:"GET_ALL_CATEGORIES"}},F=function(e,t){var r=G({},e);return""===r.parentId&&(r.parentId=null),{type:t+"_CATEGORY",params:r}},N=function(e){return{type:"INIT_MODAL",modalData:G({},e,{show:!0})}},V=r(13),S=r.n(V),B=function(e){function t(e){var r;Object(C.a)(this,t),r=Object(I.a)(this,Object(R.a)(t).call(this,e));var a={};return r.props.updateFormItem(null),r.props.items.map(function(e){var t=void 0!==r.props.values[e.name]?r.props.values[e.name]:e.default;return r.props.updateFormItem({name:e.name,value:t}),a[e.name]=null===t?"":t,!0}),r.state=a,r}return Object(x.a)(t,e),Object(j.a)(t,[{key:"onChange",value:function(e,t){this.props.updateFormItem({name:e,value:t.target.value}),this.setState(Object(y.a)({},e,t.target.value))}},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,this.props.items.map(function(t){var r={id:"form_input_"+t.name,className:"form-control",name:t.name,required:t.required,value:e.state[t.name],onChange:function(r){return e.onChange(t.name,r)}};return"hidden"===t.type?n.a.createElement("input",Object.assign({key:"form_"+t.name,type:"hidden"},r)):n.a.createElement("div",{className:"form-group",key:"form_"+t.name},n.a.createElement("label",{htmlFor:"form_input_"+t.name},t.required&&n.a.createElement("span",{className:"font-weight-bold text-danger"},"*")," ",t.title),void 0!==e.props.currentFormErrors[t.name]&&n.a.createElement("div",{className:"text-danger"},e.props.currentFormErrors[t.name]),function(){switch(t.type){case"select":return n.a.createElement("select",r,void 0!==e.props.selectOptions[t.name]&&e.props.selectOptions[t.name].map(function(e){return n.a.createElement("option",{key:"form_select_"+t.name+e.key,value:e.key},e.value.replace(/ /g,"\xa0"))}));case"textarea":return n.a.createElement("textarea",r);default:return n.a.createElement("input",Object.assign({type:"text"},r))}}())}))}}]),t}(a.Component);B.defaultProps={items:[],values:[],selectOptions:[],onSubmit:null,currentFormErrors:{}};var H=Object(c.b)(function(e){return{currentFormValues:e.currentFormValues,currentFormErrors:e.currentFormErrors}},{updateFormItem:function(e){return{type:"UPDATE_FORM_ITEM",itemData:e}}})(B);function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}var z={title:"Category",name:"categoryId",type:"select",required:!0,default:""},U={title:"Title",name:"title",type:"text",required:!0,default:""},q={title:"Text",name:"text",type:"textarea",required:!0,default:""},J={title:"",name:"_id",type:"hidden",default:""},W={items:[function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(r,!0).forEach(function(t){Object(y.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},z,{name:"parentId",title:"Parent category",required:!1}),U]},K={items:[].concat(Object(g.a)(W.items),[J])},Q={items:[z,U,{title:"Description",name:"description",type:"textarea",required:!0,default:""},q]},X={items:[].concat(Object(g.a)(Q.items),[J])},Z={items:[z,U,q]},$={items:[].concat(Object(g.a)(Z.items),[J])},ee=function(e){function t(){return Object(C.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(j.a)(t,[{key:"initEditModal",value:function(e){var t=this;this.props.initModal({titleText:"Edit category",isForm:!0,bodyText:n.a.createElement(H,Object.assign({},K,{values:this.props.categories.find(function(t){return t._id===e}),selectOptions:{parentId:h(this.props.categories,!0)}})),closeBtnText:"Cancel",confirmBtnText:"Edit",confirmBtnVariant:"success",confirmAddData:{type:"EDIT_CATEGORY",_id:e},closeHandler:function(e){e.hideModal()},formSubmitHandler:function(e,r){t.props.editCategory(r.currentFormValues),e.preventDefault()}})}},{key:"initDeleteModal",value:function(e){var t=this;this.props.initModal({titleText:"Delete category",bodyText:"Are you sure?",closeBtnText:"Cancel",confirmBtnText:"Delete",confirmAddData:{type:"DELETE_CATEGORY",_id:e},closeHandler:function(e){e.hideModal()},confirmHandler:function(e){t.props.deleteCategory(e.confirmAddData._id)}})}},{key:"render",value:function(){var e=this;return n.a.createElement("ul",null,this.props.categories.filter(function(t){return t.parentId===e.props.parentId}).sort(function(e,t){return e.title.localeCompare(t.title)}).map(function(r){return n.a.createElement("li",{key:r._id},r.title,n.a.createElement(S.a,{variant:"secondary",size:"sm",className:"ml-2 m-1",onClick:function(){e.initEditModal(r._id)}},n.a.createElement("i",{className:"fa fa-pencil"})),n.a.createElement(S.a,{variant:"danger",size:"sm",className:"m-1",onClick:function(){e.initDeleteModal(r._id)}},n.a.createElement("i",{className:"fa fa-trash"})),n.a.createElement(t,{key:"sub_"+r._id,parentId:r._id,categories:e.props.categories,initModal:e.props.initModal,editCategory:e.props.editCategory,deleteCategory:e.props.deleteCategory}))}))}}]),t}(a.Component);ee.defaultProps={parentId:null};var te=Object(c.b)(function(e){return{categories:e.categories}},{initModal:N,deleteCategory:function(e){return{type:"DELETE_CATEGORY",params:{_id:e}}},editCategory:function(e){return F(e,"EDIT")}})(ee),re=function(e){function t(){return Object(C.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(j.a)(t,[{key:"initAddModal",value:function(){var e=this;this.props.initModal({titleText:"Add new category",isForm:!0,bodyText:n.a.createElement(H,Object.assign({},W,{selectOptions:{parentId:h(this.props.categories)}})),closeBtnText:"Cancel",confirmBtnText:"Add",closeBtnVariant:"secondary",confirmBtnVariant:"success",confirmAddData:{type:"ADD_CATEGORY"},closeHandler:function(e){e.hideModal()},formSubmitHandler:function(t,r){e.props.createCategory(r.currentFormValues),t.preventDefault()}})}},{key:"componentDidMount",value:function(){this.props.getAllCategories()}},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",{className:"mb-3"},"Manage Categories"),void 0!==this.props.categories&&n.a.createElement(n.a.Fragment,null,n.a.createElement(S.a,{variant:"secondary",size:"sm",className:"m-1 mb-3",onClick:function(){e.initAddModal()}},n.a.createElement("i",{className:"fa fa-plus"})," Add category"),n.a.createElement(te,null)))}}]),t}(a.Component),ae=Object(c.b)(function(e){return{categories:e.categories}},{getAllCategories:w,createCategory:function(e){return F(e,"ADD")},initModal:N})(re),ne=function(e){function t(){return Object(C.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(j.a)(t,[{key:"initEditModal",value:function(e){var t=this;this.props.initModal({titleText:"Edit recipe",isForm:!0,bodyText:n.a.createElement(H,Object.assign({},$,{values:this.props.recipes.find(function(t){return t._id===e}),selectOptions:{categoryId:h(this.props.categories)}})),closeBtnText:"Cancel",confirmBtnText:"Edit",confirmBtnVariant:"success",confirmAddData:{type:"EDIT_RECIPE",_id:e},closeHandler:function(e){e.hideModal()},formSubmitHandler:function(e,r){t.props.editRecipe(r.currentFormValues),e.preventDefault()}})}},{key:"initDeleteModal",value:function(e){var t=this;this.props.initModal({titleText:"Delete recipe",bodyText:"Are you sure?",closeBtnText:"Cancel",confirmBtnText:"Delete",confirmAddData:{type:"DELETE_RECIPE",_id:e},closeHandler:function(e){e.hideModal()},confirmHandler:function(e){t.props.deleteRecipe(e.confirmAddData._id)}})}},{key:"initViewModal",value:function(e){var t=this.props.recipes.find(function(t){return t._id===e});this.props.initModal({titleText:"View recipe",bodyText:n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,n.a.createElement("b",null,"Category:")," ",void 0!==this.props.categories.find(function(e){return e._id===t.categoryId})?this.props.categories.find(function(e){return e._id===t.categoryId}).title:"NOT FOUND"),n.a.createElement("p",null,n.a.createElement("b",null,"Title:")," ",t.title),n.a.createElement("p",null,n.a.createElement("b",null,"Text:")," ",t.text)),closeBtnText:"Close",confirmBtnText:"",closeBtnVariant:"secondary",closeHandler:function(e){e.hideModal()}})}},{key:"render",value:function(){var e=this;return n.a.createElement("table",{className:"table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"Category"),n.a.createElement("th",{scope:"col"},"Title"),n.a.createElement("th",{scope:"col"}))),n.a.createElement("tbody",null,this.props.recipes.sort(function(e,t){return e.title.localeCompare(t.title)}).map(function(t){return n.a.createElement("tr",{key:t._id},n.a.createElement("td",null,void 0!==e.props.categories.find(function(e){return e._id===t.categoryId})?e.props.categories.find(function(e){return e._id===t.categoryId}).title:"NOT FOUND"),n.a.createElement("td",null,t.title),n.a.createElement("td",{className:"pl-2"},n.a.createElement(S.a,{variant:"secondary",size:"sm",className:"m-1",onClick:function(){e.initViewModal(t._id)}},n.a.createElement("i",{className:"fa fa-eye"})),n.a.createElement(S.a,{variant:"secondary",size:"sm",className:"m-1",onClick:function(){e.initEditModal(t._id)}},n.a.createElement("i",{className:"fa fa-pencil"})),n.a.createElement(S.a,{variant:"danger",size:"sm",className:"m-1",onClick:function(){e.initDeleteModal(t._id)}},n.a.createElement("i",{className:"fa fa-trash"}))))})))}}]),t}(a.Component);ne.defaultProps={parentId:null};var oe=Object(c.b)(function(e){return{categories:e.categories,recipes:e.recipes}},{initModal:N,deleteRecipe:function(e){return{type:"DELETE_RECIPE",params:{_id:e}}},editRecipe:function(e){return{type:"EDIT_RECIPE",params:e}}})(ne),ie=function(e){function t(){return Object(C.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(j.a)(t,[{key:"initAddModal",value:function(){var e=this;this.props.initModal({titleText:"Add new recipe",isForm:!0,bodyText:n.a.createElement(H,Object.assign({},Z,{selectOptions:{categoryId:h(this.props.categories)}})),closeBtnText:"Cancel",confirmBtnText:"Add",closeBtnVariant:"secondary",confirmBtnVariant:"success",confirmAddData:{type:"ADD_RECIPE"},closeHandler:function(e){e.hideModal()},formSubmitHandler:function(t,r){e.props.createRecipe(r.currentFormValues),t.preventDefault()}})}},{key:"componentDidMount",value:function(){this.props.getAllCategories(),this.props.getAllRecipes()}},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",null,"Manage Recipes"),void 0!==this.props.recipes&&void 0!==this.props.categories&&n.a.createElement(n.a.Fragment,null,n.a.createElement(S.a,{variant:"secondary",size:"sm",className:"m-1 mb-3",onClick:function(){e.initAddModal()}},n.a.createElement("i",{className:"fa fa-plus"})," Add recipe"),n.a.createElement(oe,null)))}}]),t}(a.Component),ce=Object(c.b)(function(e){return{recipes:e.recipes,categories:e.categories}},{getAllRecipes:function(){return{type:"GET_ALL_RECIPES"}},getAllCategories:w,createRecipe:function(e){return{type:"ADD_RECIPE",params:e}},initModal:N})(ie),le=r(30),se=r.n(le);function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}var pe=function(e){function t(){return Object(C.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this,t=n.a.createElement(n.a.Fragment,null,n.a.createElement(se.a.Header,{closeButton:!0},n.a.createElement(se.a.Title,null,this.props.titleText)),n.a.createElement(se.a.Body,null,this.props.bodyText),n.a.createElement(se.a.Footer,null,n.a.createElement(S.a,{variant:this.props.closeBtnVariant,onClick:function(){return e.props.closeHandler(e.props)}},this.props.closeBtnText),""!==this.props.confirmBtnText&&n.a.createElement(S.a,{variant:this.props.confirmBtnVariant,onClick:function(){return e.props.confirmHandler(e.props)},type:this.props.isForm?"submit":"button"},this.props.confirmBtnText)));return n.a.createElement(se.a,{show:this.props.show,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:function(){return e.props.closeHandler(e.props)}},this.props.isForm?n.a.createElement("form",{onSubmit:function(t){return e.props.formSubmitHandler(t,e.props)}},t):t)}}]),t}(a.Component);pe.defaultProps={show:!1,isForm:!1,titleText:"[TITLE]",bodyText:"[BODY]",closeBtnText:"[CLOSE]",confirmBtnText:"[CONFIRM]",closeBtnVariant:"secondary",confirmBtnVariant:"danger",closeHandler:function(e){e.hideModal()},confirmHandler:function(){},formSubmitHandler:function(e,t){e.preventDefault()}};var de=Object(c.b)(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(r,!0).forEach(function(t){Object(y.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e.modalData,{currentFormValues:e.currentFormValues})},{hideModal:function(){return{type:"HIDE_MODAL"}}})(pe),me=r(39),Ee=r.n(me),fe=Object(c.b)(function(e){return{errorGlobalMsg:e.errorGlobalMsg}},null)(function(e){var t=e.errorGlobalMsg;return n.a.createElement(Ee.a,{variant:"danger"},"Something gone wrong: ",t)}),be=function(e){function t(){return Object(C.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(j.a)(t,[{key:"initEditModal",value:function(e){var t=this;this.props.initModal({titleText:"Edit article",isForm:!0,bodyText:n.a.createElement(H,Object.assign({},X,{values:this.props.articles.find(function(t){return t._id===e}),selectOptions:{categoryId:h(this.props.categories)}})),closeBtnText:"Cancel",confirmBtnText:"Edit",confirmBtnVariant:"success",confirmAddData:{type:"EDIT_ARTICLE",_id:e},closeHandler:function(e){e.hideModal()},formSubmitHandler:function(e,r){t.props.editArticle(r.currentFormValues),e.preventDefault()}})}},{key:"initDeleteModal",value:function(e){var t=this;this.props.initModal({titleText:"Delete article",bodyText:"Are you sure?",closeBtnText:"Cancel",confirmBtnText:"Delete",confirmAddData:{type:"DELETE_ARTICLE",_id:e},closeHandler:function(e){e.hideModal()},confirmHandler:function(e){t.props.deleteArticle(e.confirmAddData._id)}})}},{key:"initViewModal",value:function(e){var t=this.props.articles.find(function(t){return t._id===e});this.props.initModal({titleText:"View article",bodyText:n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,n.a.createElement("b",null,"Category:")," ",void 0!==this.props.categories.find(function(e){return e._id===t.categoryId})?this.props.categories.find(function(e){return e._id===t.categoryId}).title:"NOT FOUND"),n.a.createElement("p",null,n.a.createElement("b",null,"Title:")," ",t.title),n.a.createElement("p",null,n.a.createElement("b",null,"Description:")," ",t.title),n.a.createElement("p",null,n.a.createElement("b",null,"Text:")," ",t.text)),closeBtnText:"Close",confirmBtnText:"",closeBtnVariant:"secondary",closeHandler:function(e){e.hideModal()}})}},{key:"render",value:function(){var e=this;return n.a.createElement("table",{className:"table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"Category"),n.a.createElement("th",{scope:"col"},"Title"),n.a.createElement("th",{scope:"col"},"Description"),n.a.createElement("th",{scope:"col"}))),n.a.createElement("tbody",null,this.props.articles.sort(function(e,t){return e.title.localeCompare(t.title)}).map(function(t){return n.a.createElement("tr",{key:t._id},n.a.createElement("td",null,void 0!==e.props.categories.find(function(e){return e._id===t.categoryId})?e.props.categories.find(function(e){return e._id===t.categoryId}).title:"NOT FOUND"),n.a.createElement("td",null,t.title),n.a.createElement("td",null,t.description),n.a.createElement("td",{className:"pl-2"},n.a.createElement(S.a,{variant:"secondary",size:"sm",className:"m-1",onClick:function(){e.initViewModal(t._id)}},n.a.createElement("i",{className:"fa fa-eye"})),n.a.createElement(S.a,{variant:"secondary",size:"sm",className:"m-1",onClick:function(){e.initEditModal(t._id)}},n.a.createElement("i",{className:"fa fa-pencil"})),n.a.createElement(S.a,{variant:"danger",size:"sm",className:"m-1",onClick:function(){e.initDeleteModal(t._id)}},n.a.createElement("i",{className:"fa fa-trash"}))))})))}}]),t}(a.Component);be.defaultProps={parentId:null};var Oe=Object(c.b)(function(e){return{categories:e.categories,articles:e.articles}},{initModal:N,deleteArticle:function(e){return{type:"DELETE_ARTICLE",params:{_id:e}}},editArticle:function(e){return{type:"EDIT_ARTICLE",params:e}}})(be),ge=function(e){function t(){return Object(C.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(j.a)(t,[{key:"initAddModal",value:function(){var e=this;this.props.initModal({titleText:"Add new article",isForm:!0,bodyText:n.a.createElement(H,Object.assign({},Q,{selectOptions:{categoryId:h(this.props.categories)}})),closeBtnText:"Cancel",confirmBtnText:"Add",closeBtnVariant:"secondary",confirmBtnVariant:"success",confirmAddData:{type:"ADD_ARTICLE"},closeHandler:function(e){e.hideModal()},formSubmitHandler:function(t,r){e.props.createArticle(r.currentFormValues),t.preventDefault()}})}},{key:"componentDidMount",value:function(){this.props.getAllCategories(),this.props.getAllArticles()}},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",null,"Manage Articles"),void 0!==this.props.articles&&void 0!==this.props.categories&&n.a.createElement(n.a.Fragment,null,n.a.createElement(S.a,{variant:"secondary",size:"sm",className:"m-1 mb-3",onClick:function(){e.initAddModal()}},n.a.createElement("i",{className:"fa fa-plus"})," Add article"),n.a.createElement(Oe,null)))}}]),t}(a.Component),ye=Object(c.b)(function(e){return{articles:e.articles,categories:e.categories}},{getAllArticles:function(){return{type:"GET_ALL_ARTICLES"}},getAllCategories:w,createArticle:function(e){return{type:"ADD_ARTICLE",params:e}},initModal:N})(ge),he=(r(110),function(){return n.a.createElement("div",{className:"loader"},"Loading...")}),De=function(){return n.a.createElement(Ee.a,{variant:"danger"},"Page not found!")},_e=function(e){function t(){return Object(C.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return n.a.createElement(L.a,null,n.a.createElement(M,null),this.props.errorGlobal&&n.a.createElement(fe,null),n.a.createElement("div",{className:"container mt-3"},this.props.loading>0&&n.a.createElement(he,null),n.a.createElement("div",{className:this.props.loading>0?"d-none":""},n.a.createElement(P.d,null,n.a.createElement(P.b,{path:"/",render:function(){return n.a.createElement("h3",null,"Welcome to recipes backend")},exact:!0}),n.a.createElement(P.b,{path:"/manage_categories/",component:ae}),n.a.createElement(P.b,{path:"/manage_recipes/",component:ce}),n.a.createElement(P.b,{path:"/manage_articles/",component:ye}),n.a.createElement(P.b,{path:"/not_found",component:De}),n.a.createElement(P.b,{path:"*",render:function(){return n.a.createElement(P.a,{to:"/not_found"})}})))),n.a.createElement(de,null))}}]),t}(a.Component),Te=Object(c.b)(function(e){return{loading:e.loading,errorGlobal:e.errorGlobal}},null)(_e),ve=Object(O.a)(),Ae=Object(i.d)(A,Object(i.a)(ve));ve.run(b),Object(o.render)(n.a.createElement(c.a,{store:Ae},n.a.createElement(Te,null)),document.getElementById("root"))},70:function(e,t,r){e.exports=r(111)}},[[70,1,2]]]);
//# sourceMappingURL=main.6b466389.chunk.js.map